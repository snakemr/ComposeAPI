package ru.lrmk.composeapi

import androidx.compose.foundation.Image
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.Row
import androidx.compose.material.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.rotate
import androidx.compose.ui.graphics.Brush
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.sp
import ru.lrmk.composeapi.api.Api
import ru.lrmk.composeapi.api.Weather

@Composable
fun Lesson05(weather: Weather) {
    // weather - –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º:
    // name - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏, coord.lat –∏ coord.lon - –≥–µ–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã,
    // sys.sunrise –∏ sys.sunset - –≤—Ä–µ–º—è –≤–æ—Å—Ö–æ–¥–∞ –∏ –∑–∞–∫–∞—Ç–∞,
    // main.temp - —Ç–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, main.temp_min –∏ main.temp_max - –µ—ë –º–∏–Ω–∏–º—É–º –∏ –º–∞–∫—Å–∏–º—É–º,
    // main.feels_like - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ "–æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫",
    // main.humidity - –≤–ª–∞–∂–Ω–æ—Å—Ç—å, main.pressure - –¥–∞–≤–ª–µ–Ω–∏–µ, clouds.all - –æ–±–ª–∞—á–Ω–æ—Å—Ç—å,
    // rain.mm - –æ—Å–∞–¥–∫–∏, visibility - –≤–∏–¥–∏–º–æ—Å—Ç—å,
    // wind.speed –∏ wind.deg - —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç—Ä–∞.
    // weather.weather - —Å–ø–∏—Å–æ–∫ –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –±–æ–ª–µ–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≤ –∫–∞–∂–¥–æ–º –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å:
    // description - –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–≥–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º, icon - –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –∑–Ω–∞—á–∫–∞ –ø–æ–≥–æ–¥—ã
    // –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∞–π—Ç https://openweathermap.org/

    // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é Api.time(...) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Ö–æ–¥–∞ –∏ –∑–∞–∫–∞—Ç–∞
    // –ò —Ñ—É–Ω–∫—Ü–∏—é Api.icon(...) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–Ω–æ–≥–æ –∑–Ω–∞—á–∫–∞ –ø–æ–≥–æ–¥—ã (–≤ —ç–ª–µ–º–µ–Ω—Ç Image())

    // –î–ª—è –≤—ã–±–æ—Ä–∞ –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞ weather.weather –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–∫–æ–π –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π —Å–ø–æ—Å–æ–±:
    // weather.weather.firstOrNull()?.icon  - –¥–ª—è –∑–Ω–∞—á–∫–∞ –ø–æ–≥–æ–¥—ã
    // weather.weather.firstOrNull()?.description ?: ""  - –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è

    // –î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã: ¬∞ ‚ÑÉ üåç üåÑ üåá üíß üì©  üå•  ‚òî  üëì üí® (–∏–ª–∏ —á–µ—Ä–µ–∑ Win+.)
    // –∏ —Å–∏–º–≤–æ–ª ‚¨Ü –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ç—Ä–∞, –ø–æ–≤—ë—Ä–Ω—É—Ç—ã–π –Ω–∞ –Ω—É–∂–Ω—ã–π —É–≥–æ–ª –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
    // Modifier.rotate(-weather.wind.deg.toFloat()), –∏ –ª—É—á—à–µ –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º: fontSize = 42.sp

    Text("""–£—Ä–æ–∫ 5. –ü–æ–≥–æ–¥–Ω—ã–π –∏–Ω—Ñ–æ—Ä–º–µ—Ä
        
        –í –æ–±—ä–µ–∫—Ç–µ weather –¥–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –≤ –Ω–∞—à–µ–º –≥–æ—Ä–æ–¥–µ.  
        
        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ Text(...) –∏ –æ–¥–∏–Ω Image(...) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö.
         
        –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≥—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –∏—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ Row{...}, –∞ –∏—Ö - –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ Column{...}
         
        –û–±—â–∏–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ - –Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ, –Ω–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –≤–∏–¥–µ.
        
        –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã: 
        Text("${weather.main.temp} ‚ÑÉ ", fontSize = 42.sp)
        
        –û—Å–Ω–æ–≤–Ω–æ–º—É Column —É–∫–∞–∂–∏—Ç–µ –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö —Ñ–æ–Ω–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ü–≤–µ—Ç–∞ (—Ü–≤–µ—Ç - –Ω–∞ –≤–∞—à –≤–∫—É—Å): 
        Modifier.background( Brush.linearGradient(listOf(Color.Cyan, Color.Blue)) )
        
        –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–º–º–µ—Ç–∞—Ä–∏–∏ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ —É—Ä–æ–∫–∞.""".trimIndent())

}